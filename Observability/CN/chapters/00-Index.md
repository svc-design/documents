
# **目录结构**

---

## **概述（Overview）**

### **01-overview.md**
- **1.1 引言**
- **1.2 内容简介**
- **1.3 目标读者**

---

## **数据类型与指标**

### **2.1 指标概述（Metrics Overview）**

#### **02-1-metrics-overview.md**
- **2.1.1 应用指标**
  - 响应时间
  - 错误率
  - 系统资源使用率
  - 用户留存率
  - 吞吐量
- **2.1.2 网络指标**
  - 带宽利用率
  - 延迟
  - 丢包率
  - 网络抖动
  - 网络可用性
  - 重传率
  - TCP 连接时间
  - DNS 查询时间
  - HTTP 请求成功率
  - 活跃连接数

---

### **2.2 日志概述（Logs Overview）**

#### **02-2-logs-overview.md**
- **2.2.1 日志大分类**
  - 网络日志
  - 服务日志
  - 应用日志
- **2.2.2 具体日志类型**
  - 流日志（网络层）
  - 调用日志（服务层）
  - 应用日志（应用层）
- **2.2.3 网络协议层面的日志**
  - 数据链路层：数据包日志
  - 网络层：流日志
  - 传输层：TCP 连接日志
  - 应用层：DNS 日志、HTTP 日志、SMTP 日志
  - 会话层：TLS 握手日志、VPN 日志

---

### **2.3 追踪概述（Traces Overview）**

#### **02-3-traces-overview.md**
- **2.3.1 分布式追踪的概念**
- **2.3.2 追踪在故障排查中的作用**

---

### **2.4 事件概述（Events Overview）**

#### **02-4-events-overview.md**
- **2.4.1 事件的定义与类型**
- **2.4.2 事件在监控中的应用**

---

### **2.5 性能分析概述（Profiles Overview）**

#### **02-5-profiles-overview.md**
- **2.5.1 性能剖析的基础**
- **2.5.2 常用性能分析工具**

---

### **2.6 网络元组分析（Network Tuple Analysis）**

#### **02-6-network-tuple-analysis.md**
- **2.6.1 网络元组的概念**
- **2.6.2 网络元组在流量分析中的应用**

---

## **eBPF 技术与应用**

### **3.1 eBPF 介绍（BPF Introduction）**

#### **03-1-bpf-introduction.md**
- **3.1.1 cBPF 和 eBPF 的历史**
- **3.1.2 eBPF 的基本原理**

---

### **3.2 eBPF 内核钩子（BPF Kernel Hooks）**

#### **03-2-bpf-kernel-hooks.md**
- **3.2.1 内核挂钩点**
- **3.2.2 eBPF 程序的加载与执行**

---

### **3.3 eBPF 网络协议（BPF Network Protocols）**

#### **03-3-bpf-network-protocols.md**
- **3.3.1 eBPF 在网络中的应用**
- **3.3.2 XDP 和 TC**

---

### **3.4 eBPF 系统调用分析（BPF Syscall Analysis）**

#### **03-4-bpf-syscall-analysis.md**
- **3.4.1 系统调用追踪**
- **3.4.2 安全监控**

---

### **3.5 eBPF Agent 数据采集（BPF Agent Data Collection）**

#### **03-5-bpf-agent-data-collection.md**
- **3.5.1 基于 eBPF 的 APM 和 Trace**
- **3.5.2 开源软件与工具**

---

## **应用系统故障排查**

### **4.1 故障排查整体流程**

#### **4.1.1 从客户端到服务端的请求路径**
- DNS 解析
- TCP 连接建立
- TLS 握手（如适用）
- 请求发送与响应接收

#### **4.1.2 分层排查思路**
- 应用层
- 服务层
- 网络层
- 物理层

---

### **4.2 应用请求关联指标的排查**

#### **4.2.1 响应时间**
- 慢请求分析
- 依赖服务性能

#### **4.2.2 错误率**
- 服务端异常 vs 客户端异常
- HTTP 状态码分析

#### **4.2.3 系统资源使用率**
- CPU 和内存监控
- 资源泄漏检测

#### **4.2.4 用户留存率**
- 用户行为分析
- 功能可用性检查

#### **4.2.5 吞吐量**
- 负载测试
- 扩展能力评估

---

### **4.3 网络关键指标的排查**

#### **4.3.1 带宽利用率**
- 流量监控
- 异常流量检测

#### **4.3.2 延迟**
- 网络路径优化
- 地理位置影响

#### **4.3.3 丢包率**
- 链路质量
- 设备故障排查

#### **4.3.4 网络抖动**
- 实时应用影响
- 网络稳定性提升

#### **4.3.5 网络可用性**
- 冗余设计
- 故障切换机制

#### **4.3.6 重传率**
- 拥塞控制
- 传输优化

#### **4.3.7 TCP 连接时间**
- 握手延迟分析
- 服务器性能

#### **4.3.8 DNS 查询时间**
- DNS 服务优化
- 缓存策略

#### **4.3.9 HTTP 请求成功率**
- 服务器健康检查
- 网络异常处理

---

### **4.4 日志分析与故障定位**

#### **4.4.1 网络日志分析**
- 流日志
- 数据包日志

#### **4.4.2 服务日志分析**
- 调用链追踪
- 接口性能监控

#### **4.4.3 应用日志分析**
- 错误堆栈
- 业务逻辑验证

---

### **4.5 典型故障场景与案例分析**

#### **4.5.1 服务端异常**
- 资源耗尽
- 依赖服务故障

#### **4.5.2 客户端异常**
- 请求格式错误
- 网络连接失败

#### **4.5.3 综合案例**
- 从问题描述到根因定位

---

## **附录**

### **5.1 术语表**
### **5.2 参考资料**
### **5.3 工具与资源**
### **5.4 生产级监控配置方案（Linux 裸机）**
#### **05-production-monitoring-linux-bare-metal.md**
- 系统与进程指标采集、历史保底以及安全加固实践
### **5.5 Vector 统一采集架构与 DeepFlow 对比**
#### **05-vector-unified-collector-architecture.md**
- Vector 汇聚多类 exporter，比较 DeepFlow 与 Vector 的功能与部署策略，并给出后端存储选型建议

### **5.6 PostgreSQL + ClickHouse 分层写入架构**
#### **05-postgres-clickhouse-layered-architecture.md**
- 使用 TimescaleDB + ClickHouse 构建热写冷存的可观测性存储，实现高并发写入与 OLAP 聚合
